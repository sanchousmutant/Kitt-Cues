@import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap');

        body {
            font-family: 'Comfortaa', cursive;
            background-color: #3a2d27; /* Темно-коричневый фон, как в бильярдной */
            overflow: hidden; /* Полностью убираем прокрутку */
            touch-action: none; /* Отключаем действия по умолчанию для касаний */
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
        }

        /* Гарантируем, что все помещается в экран */
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        /* Адаптивные размеры шаров */
        .billiard-ball {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            box-shadow: 1px 1px 2px rgba(0,0,0,0.4);
            transition: transform 0.1s ease-out;
        }

        /* Увеличенные размеры для больших экранов */
        @media (min-width: 640px) {
            .billiard-ball {
                width: 18px;
                height: 18px;
                box-shadow: 1.5px 1.5px 3px rgba(0,0,0,0.4);
            }
        }

        @media (min-width: 768px) {
            .billiard-ball {
                width: 20px;
                height: 20px;
                box-shadow: 2px 2px 4px rgba(0,0,0,0.4);
            }
        }

        @media (min-width: 1024px) {
            .billiard-ball {
                width: 22px;
                height: 22px;
                box-shadow: 2px 2px 4px rgba(0,0,0,0.4);
            }
        }

        @media (min-width: 1280px) {
            .billiard-ball {
                width: 24px;
                height: 24px;
                box-shadow: 2px 2px 4px rgba(0,0,0,0.4);
            }
        }

        /* Анимация для хвоста кошки */
        @keyframes tail-wag {
            0%, 100% { transform: rotate(5deg); }
            50% { transform: rotate(-15deg); }
        }

        /* Анимация для головы кошки (кивок) */
        @keyframes head-nod {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* Анимация для лапки */
        @keyframes paw-tap {
            0%, 100% { transform: translateY(0) rotate(5deg); }
            50% { transform: translateY(-3px) rotate(-5deg); }
        }
        
        /* Анимация для моргания */
        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }

        /* Анимация для удара лапой */
        @keyframes paw-swat {
            0% { transform: scale(1) rotate(5deg); }
            50% { transform: scale(1.4) rotate(-40deg); }
            100% { transform: scale(1) rotate(5deg); }
        }

        /* Усиленная анимация для всего маленького кота */
        @keyframes small-cat-swat {
            0% { 
                transform: scale(1) rotate(0deg); 
            }
            25% {
                transform: scale(1.1) rotate(-5deg);
            }
            50% { 
                transform: scale(1.2) rotate(-8deg); 
            }
            75% {
                transform: scale(1.1) rotate(-3deg);
            }
            100% { 
                transform: scale(1) rotate(0deg); 
            }
        }

        /* Анимация испуга кота */
        @keyframes cat-scared {
            0% { transform: scale(1) translateY(0); }
            25% { transform: scale(1.1) translateY(-5px); }
            50% { transform: scale(1.05) translateY(-3px); }
            75% { transform: scale(1.08) translateY(-4px); }
            100% { transform: scale(1) translateY(0); }
        }

        .swat-animation {
            animation: paw-swat 0.3s ease-out;
        }

        /* Специальная анимация для всего маленького кота */
        .cat-small.swat-animation {
            animation: small-cat-swat 0.5s ease-out;
        }

        .cat-scared {
            animation: cat-scared 0.5s ease-out;
        }

        /* Дополнительные анимации для элементов котов */
        @keyframes whisker-twitch {
            0%, 95%, 100% { transform: rotate(0deg); }
            2%, 5% { transform: rotate(5deg); }
        }

        @keyframes ear-twitch {
            0%, 90%, 100% { transform: rotate(0deg); }
            5%, 15% { transform: rotate(8deg); }
        }

        @keyframes gentle-breathing {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        /* Анимации усов, ушей и дыхания для каждого кота */
        .cat-container:nth-child(1) .whisker {
            animation: whisker-twitch 8s infinite;
            animation-delay: 2s;
        }

        /* Анимации для оранжевого кота */
        .cat-orange .whisker {
            animation: whisker-twitch 8s infinite;
            animation-delay: 2s;
        }

        .cat-orange .cat-head {
            animation: head-nod 4s infinite ease-in-out, gentle-breathing 3s infinite ease-in-out;
            animation-delay: 0.3s, 1s;
        }

        .cat-orange .cat-tail {
            animation: tail-wag 2.5s infinite ease-in-out;
            animation-delay: 0s;
            transform-origin: right bottom;
        }
        .cat-orange .cat-paw {
            animation: paw-tap 1.5s infinite ease-in-out;
            animation-delay: 0.1s;
        }
        .cat-orange .cat-eye {
            animation: blink 4.2s infinite;
            animation-delay: 0.5s;
        }

        /* Анимации для серого кота */
        .cat-gray .whisker {
            animation: whisker-twitch 6s infinite;
            animation-delay: 3.5s;
        }

        .cat-gray .ear {
            animation: ear-twitch 7s infinite;
            animation-delay: 1.2s;
        }

        .cat-gray .cat-head {
            animation: head-nod 3.6s infinite ease-in-out, gentle-breathing 2.8s infinite ease-in-out;
            animation-delay: 1.1s, 0.5s;
        }

        .cat-gray .cat-tail {
            animation: tail-wag 2.8s infinite ease-in-out;
            animation-delay: 0.7s;
            transform-origin: right bottom;
        }
        .cat-gray .cat-paw {
            animation: paw-tap 1.3s infinite ease-in-out;
            animation-delay: 0.4s;
        }
        .cat-gray .cat-eye {
            animation: blink 5.3s infinite;
            animation-delay: 1.8s;
        }

        /* Анимации для белого кота */
        .cat-white .whisker {
            animation: whisker-twitch 9s infinite;
            animation-delay: 1s;
        }

        .cat-white .ear {
            animation: ear-twitch 5s infinite;
            animation-delay: 2.5s;
        }

        .cat-white .cat-head {
            animation: head-nod 4.4s infinite ease-in-out, gentle-breathing 3.2s infinite ease-in-out;
            animation-delay: 0.8s, 1.8s;
        }

        .cat-white .cat-tail {
            animation: tail-wag 2.2s infinite ease-in-out;
            animation-delay: 1.4s;
            transform-origin: right bottom;
        }
        .cat-white .cat-paw {
            animation: paw-tap 1.7s infinite ease-in-out;
            animation-delay: 0.9s;
        }
        .cat-white .cat-eye {
            animation: blink 3.8s infinite;
            animation-delay: 2.1s;
        }

        /* Анимации для маленького серого кота */
        .cat-small .whisker {
            animation: whisker-twitch 5s infinite;
            animation-delay: 4s;
        }

        .cat-small .ear {
            animation: ear-twitch 6s infinite;
            animation-delay: 0.8s;
        }

        .cat-small .cat-head {
            animation: head-nod 3.9s infinite ease-in-out, gentle-breathing 2.5s infinite ease-in-out;
            animation-delay: 1.6s, 0.2s;
        }

        .cat-small .cat-tail {
            animation: tail-wag 2.6s infinite ease-in-out;
            animation-delay: 0.2s;
            transform-origin: right bottom;
        }
        .cat-small .cat-paw {
            animation: paw-tap 1.6s infinite ease-in-out;
            animation-delay: 1.2s;
        }
        .cat-small .cat-eye {
            animation: blink 4.7s infinite;
            animation-delay: 0.9s;
        }

        /* Стили для кия */
        #cue {
            transition: transform 0.1s ease-out;
            pointer-events: none; /* Кий не должен мешать кликам */
        }

        /* Модальное окно */
        .modal-overlay {
            backdrop-filter: blur(5px);
        }

        /* Анимации для UI элементов */
        .button-hover {
            transition: all 0.2s ease-in-out;
        }
        
        .button-hover:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* Пульсирующая анимация для важных элементов */
        @keyframes pulse-glow {
            0%, 100% { 
                box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
            }
            50% { 
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 30px rgba(59, 130, 246, 0.4);
            }
        }

        .help-button-glow {
            animation: pulse-glow 2s infinite;
        }

        /* Улучшенные тени */
        .enhanced-shadow {
            box-shadow: 0 8px 25px rgba(0,0,0,0.15), 0 4px 10px rgba(0,0,0,0.1);
        }

        /* Градиентные фоны для кнопок */
        .gradient-yellow {
            background: linear-gradient(135deg, #fbbf24, #d97706);
        }
        
        .gradient-blue {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        }
        
        .gradient-green {
            background: linear-gradient(135deg, #10b981, #047857);
        }

        /* Адаптивные улучшения для мобильных устройств */
        @media (max-width: 640px) {
            /* Уменьшаем анимации на мобильных для производительности */
            .cat-container * {
                animation-duration: 0.8s !important;
            }
            
            /* Уменьшаем размер кошек на мобильных */
            .cat-container {
                transform: scale(0.5);
            }
            
            /* Улучшаем читаемость текста */
            .text-sm {
                font-size: 0.875rem;
                line-height: 1.25rem;
            }
            
            /* Оптимизируем тени для мобильных */
            .shadow-lg {
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            }
        }

        /* Улучшения для планшетов */
        @media (min-width: 640px) and (max-width: 1024px) {
            /* Средние размеры элементов */
            .cat-container {
                transform: scale(1.1);
            }
        }

        /* Улучшения для больших экранов */
        @media (min-width: 1024px) {
            /* Полные размеры и эффекты */
            .cat-container {
                transform: scale(1);
            }
            
            /* Улучшенные тени */
            .enhanced-shadow {
                box-shadow: 0 10px 25px rgba(0,0,0,0.15), 0 4px 10px rgba(0,0,0,0.1);
            }
        }

        /* Поддержка ландшафтной ориентации на мобильных */
        @media (max-width: 640px) and (orientation: landscape) {
            body {
                padding: 0.25rem;
            }
            
            #game-area {
                height: 100% !important;
                width: 100% !important;
                max-height: none !important;
            }
            
            /* Скрываем панель управления сверху в ландшафте */
            .flex.justify-center.items-center.gap-1.mb-1.sm\\:hidden {
                display: none !important;
            }
            
            /* Скрываем счет сверху в ландшафте */
            .mb-1.sm\\:hidden:has(#score-display-mobile) {
                display: none !important;
            }
        }

        /* Дополнительные стили для мобильных в портретной ориентации */
        @media (max-width: 640px) and (orientation: portrait) {
            #rotation-notice {
                display: flex !important;
            }
            
            /* Скрываем ландшафтные элементы управления */
            .landscape-mobile-controls {
                display: none !important;
            }
            
            /* Оптимизация для портретной ориентации */
            body {
                overflow: hidden;
            }
            
            #game-area {
                height: 100% !important;
                width: 100% !important;
            }
        }

        /* Стили для ландшафтных элементов управления */
        @media (max-width: 640px) and (orientation: landscape) {
            .landscape-mobile-controls {
                display: block !important;
            }
        }

        /* Стили для уведомления о повороте телефона */
        #rotation-notice {
            backdrop-filter: blur(10px);
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes rotate-phone {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(90deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-90deg); }
            100% { transform: rotate(0deg); }
        }

        .animate-pulse-custom {
            animation: pulse 2s infinite;
        }

        .animate-rotate-phone {
            animation: rotate-phone 3s infinite ease-in-out;
        }

        /* Скрытие уведомления при ландшафтной ориентации */
        @media (max-width: 640px) and (orientation: landscape) {
            #rotation-notice {
                display: none !important;
            }
        }

        /* Универсальные правила для всех размеров экрана */
        #game-area {
            max-width: 100vw;
            max-height: 100vh;
            box-sizing: border-box;
        }

        /* Адаптивные размеры для очень маленьких экранов */
        @media (max-width: 360px) {
            .billiard-ball {
                width: 14px;
                height: 14px;
            }
            
            .cat-container {
                transform: scale(0.4);
            }
        }

        /* Специальные стили для iPhone SE (375px) */
        @media (max-width: 375px) {
            .billiard-ball {
                width: 12px;
                height: 12px;
            }
            
            .cat-container {
                transform: scale(0.3);
            }
            
            /* Уменьшаем размер счета на маленьких экранах */
            #score-display {
                font-size: 0.875rem !important;
                padding: 0.25rem 0.5rem !important;
            }
            
            /* Уменьшаем размер кнопок */
            button {
                padding: 0.25rem 0.5rem !important;
                font-size: 0.75rem !important;
            }
        }

        /* Адаптивные размеры для очень больших экранов */
        @media (min-width: 1920px) {
            .billiard-ball {
                width: 28px;
                height: 28px;
            }
            
            .cat-container {
                transform: scale(1.2);
            }
        }